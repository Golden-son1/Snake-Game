:root {
  --size: 400px;
  --gap: 12px;
}
* { box-sizing: border-box; }
body {
  margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  background: linear-gradient(135deg,#0f172a,#0b1023);
   color: #e5e7eb; 
   display: grid; 
   place-items: center; min-height: 100svh;
}
.wrap { display: grid;
   gap: var(--gap); align-items: center; justify-items: center; }

h1 { margin: 0 0 4px; font-size: clamp(18px, 2.6vw, 24px); font-weight: 700; letter-spacing: .2px; color: #f8fafc; text-align: center; }

.hud {
  width: var(--size);
  display: grid;
   grid-template-columns: 1fr auto 1fr;
    align-items: center; gap: 15px;
}

.left, .right { 
  display:flex;
   gap: 15px;
    align-items:center;
  text-align: center; }
    

.pill { 
  padding: 6px 12px;
   border-radius: 999px; 
   background: #0b132f; 
   color:#cbd5e1;
    border:1px solid #1f2a52; 
    font-weight:600; }
.btn {
  padding: 10px 14px;
   border-radius: 10px;
    background: #0ea5e9; 
    color: #00121c;
     border: none; 
     font-weight: 700;
      cursor: pointer;
  box-shadow: 0 6px 16px rgba(14,165,233,.35);
}
.center{
  display: flex;
  gap: 10px;
}
.btn:hover{ filter: brightness(2.05); }

.btn.secondary { background:#405573; color:#162e8e; box-shadow: none; }

.stage { position: relative; width: var(--size); height: var(--size); border-radius: 14px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,.5); }


canvas { display:block; width:100%; height:100%; background: radial-gradient(120% 120% at 0% 0%, #0b1a34 0%, #07142b 45%, #050f24 100%);
  border:1px solid #1f2a52; }

.overlay {
  position:absolute; inset:0; display:grid; place-items:center; background: rgba(2,6,23,.55); backdrop-filter: blur(2px);
  color:#e2e8f0; text-align:center; padding: 24px;
}
.overlay.hidden{ display:none; }
.overlay .panel{
  background: rgba(12, 31, 80, 0.85); border: 1px solid #1f2a52; border-radius: 16px; padding: 18px 16px; width:min(90%, 320px);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03), 0 10px 30px rgba(0,0,0,.45);
}
.panel h2{ margin:0 0 8px; font-size: 20px; }
.panel p{ margin: 6px 0; color:#cbd5e1; font-size: 14px; }

/* Mobile on-screen controls */
.dpad {
  display: grid;
   grid-template-columns: 100px 100px  100px; 
  grid-template-rows: 60px 60 60px ;
   /* gap: px; */
   margin-top: 4px;
  user-select: none;
   touch-action: manipulation;

}
.dpad button { width:56px; height:56px; border-radius: 20px; border:1px solid #1f2a52; background:#0b132f; color:#cbd5e1; font-weight:700; cursor:pointer; }
.dpad button:active{ transform: scale(0.98); }
.dpad .blank{ visibility: hidden; }

@media (max-width: 480px){
  :root{ --size: 92vw; }
  .hud { width: var(--size); grid-template-columns: 1fr; gap:6px; }
  .right{ justify-content: flex-start; }
}